window.__require=function e(t,n,i){function o(c,r){if(!n[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var d=n[c]={exports:{}};t[c][0].call(d.exports,function(e){return o(t[c][1][e]||e)},d,d.exports,e,t,n,i)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({"bird-move":[function(e,t,n){"use strict";cc._RF.push(t,"3455dBBB2pBWatzX+Y8gz+9","bird-move");cc.Class({extends:cc.Component,properties:{flyNodes:[cc.Node]},onLoad:function(){var e=this;this.frameCounter=0,this.frameIdx=0,this.speed=window.speed,this.sprite=this.node.getComponent(cc.Sprite),this.collider=this.node.getComponent(cc.BoxCollider),GameEvent.on(GameEventType.ALL_UPDATE_SPEED,function(t){var n=t.speed;e.speed=n}),this.isEnemy=!1,this.node.on(NodeEventType.ENEMY_ACTIVE,function(){e.startPosition(),e.isEnemy=!0}),this.node.on(NodeEventType.ENEMY_HIDE,function(){e.hide()})},update:function(){this.isEnemy&&(this.updateFrame(),this.updatePosition())},updateFrame:function(){if(this.frameCounter++,!(this.frameCounter%15)){this.frameCounter=0;var e=this.frameIdx%this.flyNodes.length,t=this.flyNodes[e],n=t.getComponent(cc.Sprite);this.sprite.spriteFrame=n.spriteFrame;var i=t.getComponent(cc.BoxCollider);this.collider.offset=i.offset,this.collider.size=i.size,this.frameIdx++}},updatePosition:function(){var e=cc.view.getDesignResolutionSize();this.node.x<-e.width/2-this.node.width/2&&(this.isEnemy=!1,this.node.emit(NodeEventType.ENEMY_DEACTIVE)),this.node.x-=this.speed},startPosition:function(){var e=cc.view.getDesignResolutionSize();switch(this.node.x=e.width/2,Math.floor(3*Math.random())){case 0:this.node.y=16;break;case 1:this.node.y=46;break;case 2:this.node.y=63}},hide:function(){var e=cc.view.getDesignResolutionSize();this.node.x=-e.width/2-this.node.width/2}}),cc._RF.pop()},{}],"game-collision":[function(e,t,n){"use strict";cc._RF.push(t,"abf06UL8dJOZqZzwPQKfM9E","game-collision"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0}}),cc._RF.pop()},{}],"game-enemy":[function(e,t,n){"use strict";cc._RF.push(t,"c4043Y3JH9H+4B39bHIEO6U","game-enemy");cc.Class({extends:cc.Component,properties:{enemies:[cc.Node]},start:function(){var e=this;this.startCounter(),GameEvent.on(GameEventType.T_REX_START,function(){e.clean(),e.startCounter()}),this.pool=[];for(var t=function(t){var n=e.enemies[t],i=cc.find("Canvas/Enemy"),o=cc.instantiate(n);o.parent=i,o.on(NodeEventType.ENEMY_DEACTIVE,function(){e.pool.push(o)}),e.pool.push(o)},n=0;n<this.enemies.length;n++)t(n)},startCounter:function(){this.counter=0,this.counterMax=3},update:function(e){this.counter+=e,this.counter>this.counterMax&&(this.lottery(),this.counter=0,this.counterMax=.7*Math.random()-.35+1.3)},lottery:function(){var e=Math.floor(Math.random()*this.pool.length),t=this.pool[e];this.pool.splice(e,1),t.emit(NodeEventType.ENEMY_ACTIVE)},clean:function(){for(var e=cc.find("Canvas/Enemy"),t=0;t<e.children.length;t++){e.children[t].emit(NodeEventType.ENEMY_HIDE)}}}),cc._RF.pop()},{}],"game-event":[function(e,t,n){"use strict";cc._RF.push(t,"10ffbUF3gVLOah22kIRuxzp","game-event"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.GameEvent=new cc.EventTarget,window.GameEventType={T_REX_START:"T_REX_START",T_REX_JUMP_START:"T_REX_JUMP_START",T_REX_JUMP_END:"T_REX_JUMP_END",T_REX_CROUCH_START:"T_REX_CROUCH_START",T_REX_CROUCH_END:"T_REX_CROUCH_END",T_REX_DEAD:"T_REX_DEAD",T_REX_MOVE_DISTANCE:"T_REX_MOVE_DISTANCE",ALL_UPDATE_SPEED:"ALL_SPEED_UP",ALL_FETCH_SPEED:"ALL_FETCH_SPEED"},window.NodeEventType={ENEMY_ACTIVE:"ENEMY_ACTIVE",ENEMY_DEACTIVE:"ENEMY_DEACTIVE",ENEMY_HIDE:"ENEMY_HIDE"}}}),cc._RF.pop()},{}],"game-level":[function(e,t,n){"use strict";cc._RF.push(t,"00b52hub9hK3L1Q5H9rN98V","game-level");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;window.speed=5;var t=function(){window.speed+=.1,GameEvent.emit(GameEventType.ALL_UPDATE_SPEED,{speed:speed})};GameEvent.on(GameEventType.T_REX_START,function(){window.speed=5,e.schedule(t,1)}),GameEvent.on(GameEventType.T_REX_DEAD,function(){e.unschedule(t)})}}),cc._RF.pop()},{}],"game-lifecycle":[function(e,t,n){"use strict";cc._RF.push(t,"41f82nOJ+lFGrwlYYYNBSXB","game-lifecycle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){GameEvent.on(GameEventType.T_REX_DEAD,function(){cc.director.pause(),cc.find("Canvas/GameOver").active=!0}),GameEvent.on(GameEventType.T_REX_START,function(){cc.director.resume(),cc.find("Canvas/GameOver").active=!1})},start:function(){GameEvent.emit(GameEventType.T_REX_START)}}),cc._RF.pop()},{}],"game-score":[function(e,t,n){"use strict";cc._RF.push(t,"4e29dTj1MBMt4CUJTZzljjM","game-score");var i="t-rex-hi-score";cc.Class({extends:cc.Component,properties:{hi:cc.Node,now:cc.Node},onLoad:function(){var e=this;this.hiScore=cc.sys.localStorage.getItem(i)||0,this.nowScore=0,this.hiScorePlaying=!1,this.nowScorePlaying=!1,this.scorePassing=!1,this.updateScore(),GameEvent.on(GameEventType.T_REX_MOVE_DISTANCE,function(t){var n=t.distance;e.nowScore+=n/5,e.nowScore>99999&&(e.nowScore=99999),e.updateScore(),e.nowScore>0&&(Math.floor(e.nowScore)%1e3==0&&e.playNowScore(),e.hiScore>0&&!e.scorePassing&&e.nowScore>e.hiScore&&(e.playNowScore(),e.scorePassing=!0))}),GameEvent.on(GameEventType.T_REX_START,function(){e.nowScore=0,e.scorePassing=!1,e.updateScore()}),GameEvent.on(GameEventType.T_REX_DEAD,function(){e.nowScore<=e.hiScore||(e.hiScore=e.nowScore,cc.sys.localStorage.setItem(i,e.nowScore),e.updateScore(),e.playHiScore())})},updateScore:function(){var e=Math.floor(this.hiScore),t=Math.floor(this.nowScore);this.nowScorePlaying||(this.now.getComponent(cc.Label).string=("0000"+t).slice(-5));this.hiScorePlaying||(this.hi.getComponent(cc.Label).string=("0000"+e).slice(-5))},playNowScore:function(){var e=this;if(!this.nowScorePlaying){this.nowScorePlaying=!0;var t=0,n=setInterval(function(){t++,e.now.active=!e.now.active,6===t&&(e.nowScorePlaying=!1,clearInterval(n))},300)}},playHiScore:function(){var e=this;if(!this.hiScorePlaying){this.hiScorePlaying=!0;var t=0,n=setInterval(function(){t++,e.hi.active=!e.hi.active,6===t&&(e.hiScorePlaying=!1,clearInterval(n))},300)}}}),cc._RF.pop()},{}],"ground-move":[function(e,t,n){"use strict";cc._RF.push(t,"7ea4bBHg6NPQbwYXNGHpmNQ","ground-move");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this,t=cc.view.getDesignResolutionSize();this.startX=this.node.width/2-t.width/2,this.speed=5,this.node.x=this.startX,GameEvent.on(GameEventType.ALL_UPDATE_SPEED,function(t){var n=t.speed;e.speed=n})},update:function(){this.node.x-=this.speed,this.startX-this.node.x>this.node.width/2&&(this.node.x=this.startX),GameEvent.emit(GameEventType.T_REX_MOVE_DISTANCE,{distance:this.speed})}}),cc._RF.pop()},{}],"t-rex-move":[function(e,t,n){"use strict";cc._RF.push(t,"1d9b8qZPfpOR5Wk0pZU5te8","t-rex-move");var i=Symbol(),o=Symbol(),s=Symbol(),c=Symbol();cc.Class({extends:cc.Component,properties:{jumpNodes:[cc.Node],runNodes:[cc.Node],crouchNodes:[cc.Node],deadNodes:[cc.Node]},onLoad:function(){var e=this;this.spriteCounter=0,this.spriteIdx=0,this.status=o,this.sprite=this.node.getComponent(cc.Sprite),this.collider=this.node.getComponent(cc.BoxCollider),GameEvent.on(GameEventType.T_REX_JUMP_START,function(){e.jump()}),GameEvent.on(GameEventType.T_REX_CROUCH_START,function(){e.crouchStart()}),GameEvent.on(GameEventType.T_REX_CROUCH_END,function(){e.crouchEnd()}),this.speedY=0,this.initY=this.node.y},update:function(e){this.updateSprite(e),this.updateJump(e)},updateSprite:function(e){if(this.spriteCounter++,!(this.spriteCounter%5)){var t;switch(this.spriteCounter=0,this.status){case i:t=this.jumpNodes;break;case o:t=this.runNodes;break;case s:t=this.crouchNodes;break;case c:t=this.deadNodes}var n=this.spriteIdx%t.length;n||(this.spriteIdx=0);var r=t[n],a=r.getComponent(cc.Sprite);this.sprite.spriteFrame=a.spriteFrame;var h=r.getComponent(cc.BoxCollider);this.collider.offset=h.offset,this.collider.size=h.size,this.spriteIdx++}},updateJump:function(e){this.status===i&&(this.speedY=this.speedY-1e3*e,this.node.y+=this.speedY*e,this.node.y<this.initY&&(this.node.y=this.initY,this.status=o))},jump:function(){if(this.status===o||this.status===i){switch(this.status){case o:this.speedY=400;break;case i:this.speedY=-400}this.status=i}},crouchStart:function(){this.status===o&&(this.status=s)},crouchEnd:function(){this.status===s&&(this.status=o)},onCollisionEnter:function(e,t){GameEvent.emit(GameEventType.T_REX_DEAD)}}),cc._RF.pop()},{}],"touch-event":[function(e,t,n){"use strict";cc._RF.push(t,"446daoGgAhByI+/vkKKYmYr","touch-event"),cc.Class({extends:cc.Component,properties:{},start:function(){var e=cc.view.getDesignResolutionSize();this.node.on(cc.Node.EventType.TOUCH_START,function(t){cc.director.isPaused()?GameEvent.emit(GameEventType.T_REX_START):t.getLocation().y>e.height/2?GameEvent.emit(GameEventType.T_REX_JUMP_START):GameEvent.emit(GameEventType.T_REX_CROUCH_START)}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.getLocation().y>e.height/2?GameEvent.emit(GameEventType.T_REX_JUMP_END):GameEvent.emit(GameEventType.T_REX_CROUCH_END)})}}),cc._RF.pop()},{}],"tree-move":[function(e,t,n){"use strict";cc._RF.push(t,"7fbdd1EKlZFqqOiiU7Q3pD3","tree-move");var i=cc.Enum({BIG:0,SMALL:1});cc.Class({extends:cc.Component,properties:{treeType:{type:cc.Enum(i),default:i.BIG}},onLoad:function(){var e=this;cc.view.getDesignResolutionSize();this.speed=window.speed,GameEvent.on(GameEventType.ALL_UPDATE_SPEED,function(t){var n=t.speed;e.speed=n}),this.isEnemy=!1,this.node.on(NodeEventType.ENEMY_ACTIVE,function(){e.startPosition(),e.isEnemy=!0}),this.node.on(NodeEventType.ENEMY_HIDE,function(){e.hide()})},startPosition:function(){var e=cc.view.getDesignResolutionSize();switch(this.node.x=e.width/2,this.treeType){case i.BIG:this.node.y=18;break;case i.SMALL:this.node.y=11}},update:function(){if(this.isEnemy){var e=cc.view.getDesignResolutionSize();this.node.x<-e.width/2-this.node.width/2&&(this.isEnemy=!1,this.node.emit(NodeEventType.ENEMY_DEACTIVE)),this.node.x-=this.speed}},hide:function(){var e=cc.view.getDesignResolutionSize();this.node.x=-e.width/2-this.node.width/2}}),cc._RF.pop()},{}]},{},["bird-move","game-collision","game-enemy","game-event","game-level","game-lifecycle","game-score","ground-move","t-rex-move","touch-event","tree-move"]);